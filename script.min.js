var nextPage="https://frontend-intern-challenge-api.iurykrieger.now.sh/products?page=1";window.onload=function(){getProducts(nextPage)};function getProducts(a){var b=document.getElementById("next-page");b.disabled=!0,b.innerHTML="Carregando...",request(a,function(a){b.disabled=!1,b.innerHTML="Ainda mais produtos aqui!";var c=JSON.parse(a);nextPage=`https://${c.nextPage}`;var d=document.getElementById("product-card"),e=document.getElementById("products-wrapper");c.products.forEach(function(a){var b=document.importNode(d.content,!0);b.querySelector("img").src=`https://${a.image}`,b.querySelector("h3").innerHTML=a.name,b.querySelector(".description").innerHTML=a.description,b.querySelector(".old-price").innerHTML=`De: R$${a.oldPrice.toFixed(2)}`,b.querySelector(".current-price").innerHTML=`Por: R$${a.price.toFixed(2)}`,b.querySelector(".installments").innerHTML=`ou ${a.installments.count}x de R$${a.installments.value.toFixed(2)}`,e.appendChild(b)})})}function request(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&b(c.responseText)},c.open("GET",a,!0),c.send()}